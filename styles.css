:root {
  --bg: #0f1220;
  --text: #ffffff;
  --muted: #c9ccdb;
  --chip: #1e2235;
  --chip-active: #2a2f4a;
  --start: #7c4dff;
  --start-pressed: #6a3df0;
  --green: #16c172;
  --green-glow: #5dffb1;
  --red: #ff5252;
  --red-glow: #ff9a9a;
  --blue: #448aff;
  --blue-glow: #9cc2ff;
  --yellow: #ffd54f;
  --yellow-glow: #ffe899;
  --hub: #0b0e1a;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Heebo', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: radial-gradient(1200px 800px at 70% -10%, #1a1f3a 0%, var(--bg) 40%, #0a0c17 100%);
  color: var(--text);
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
}

.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px clamp(16px, 4vw, 32px);
}
.title { font-size: clamp(24px, 4vw, 36px); margin: 0; letter-spacing: 1px; }
.status { display: flex; gap: 16px; align-items: baseline; }
.message { color: var(--yellow); font-weight: 600; min-height: 1.2em; }
.progress { position: relative; width: min(92vw, 560px); height: 18px; border-radius: 999px; background: #1f2440; overflow: hidden; align-self: center; box-shadow: inset 0 0 6px rgba(0,0,0,.4); }
.progress-bar { position: absolute; left: 0; top: 0; bottom: 0; width: 0%; border-radius: inherit; background: linear-gradient(90deg, #16c172, #48a4ff, #ffd54f); box-shadow: 0 0 10px rgba(72,164,255,.6); transition: width .25s ease; }

.container { max-width: 980px; margin: 0 auto; padding: 0 clamp(16px, 4vw, 32px) 24px; flex: 1 0 auto; }

.progress-wrap { display: grid; place-items: center; gap: 8px; margin: 8px 0 10px; }
.progress-note { font-weight: 800; color: var(--muted); letter-spacing: .5px; }

.controls {
  display: none;
}
.difficulty { display: none; }
.chip {
  border: none; border-radius: 999px; padding: 10px 16px; font-size: 18px; color: var(--muted);
  background: var(--chip); cursor: pointer; touch-action: manipulation; transition: transform .08s ease, background .2s ease, color .2s ease;
}
.chip.selected { background: var(--chip-active); color: #fff; }
.chip:active { transform: scale(0.98); }

.start {
  margin: 0; border: none; border-radius: 28px; padding: 4% 6%; font-size: clamp(18px, 4vw, 28px); font-weight: 800;
  color: #fff; background: linear-gradient(135deg, var(--start), #48a4ff);
  width: 80%; height: 80%;
  box-shadow: 0 8px 18px rgba(68,138,255,.45);
  border-radius: 50%;
  cursor: pointer; touch-action: manipulation; transition: transform .08s ease, filter .2s ease, box-shadow .2s ease;
}
.start:active { transform: translateY(1px) scale(0.99); filter: brightness(.95); box-shadow: 0 4px 10px rgba(68,138,255,.3); }

.board-wrap { display: grid; place-items: center; margin-top: 10px; }
.board {
  position: relative; width: min(90vw, 560px); aspect-ratio: 1/1; border-radius: 50%; padding: 4%;
  background: radial-gradient(60% 60% at 50% 40%, #141a34 0%, #0a0e20 60%, #070a17 100%);
  box-shadow: inset 0 0 40px rgba(0,0,0,.6), 0 12px 40px rgba(0,0,0,.5);
  display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; gap: 4%;
}
.quad {
  border: none; border-radius: 20px; position: relative; isolation: isolate;
  cursor: pointer; touch-action: manipulation; outline: none;
  box-shadow: inset 0 0 18px rgba(0,0,0,.45), 0 10px 22px rgba(0,0,0,.35);
  transition: transform .06s ease, filter .12s ease, box-shadow .12s ease;
}
.quad:active { transform: translateY(2px) scale(0.995); }

.green { background: linear-gradient(160deg, #0f7a51, var(--green)); }
.red { background: linear-gradient(160deg, #a02727, var(--red)); }
.blue { background: linear-gradient(160deg, #1f4aa6, var(--blue)); }
.yellow { background: linear-gradient(160deg, #a8881b, var(--yellow)); }

.quad.lit.green { box-shadow: 0 0 32px 10px var(--green-glow), inset 0 0 18px rgba(0,0,0,.25); filter: brightness(1.25) saturate(1.2); }
.quad.lit.red { box-shadow: 0 0 32px 10px var(--red-glow), inset 0 0 18px rgba(0,0,0,.25); filter: brightness(1.25) saturate(1.2); }
.quad.lit.blue { box-shadow: 0 0 32px 10px var(--blue-glow), inset 0 0 18px rgba(0,0,0,.25); filter: brightness(1.25) saturate(1.2); }
.quad.lit.yellow { box-shadow: 0 0 32px 10px var(--yellow-glow), inset 0 0 18px rgba(0,0,0,.25); filter: brightness(1.25) saturate(1.2); }

.hub {
  position: absolute; inset: 25% 25%; border-radius: 50%; background: radial-gradient(70% 70% at 40% 30%, #14182d, var(--hub));
  box-shadow: inset 0 0 25px rgba(0,0,0,.6), 0 6px 16px rgba(0,0,0,.45);
  display: grid; place-items: center; pointer-events: none;
}
.hub-content { display: grid; place-items: center; width: 100%; height: 100%; pointer-events: auto; padding: 6%; }
.hub-title { display: none; }
.replay { display: none; }

.footer { text-align: center; opacity: .7; padding: 10px 16px 24px; font-size: 14px; margin-top: auto; }

.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,1px,1px); border: 0; }

@media (max-width: 480px) {
  .chip, .start { font-size: 16px; }
}
